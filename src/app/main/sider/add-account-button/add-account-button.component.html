<div class="add-account-btn-wrapper">
    <button
        (click)="openModal()"
        nz-button
        nzType="dashed">
        <i nz-icon theme="outline" type="plus"></i>
        <span *ngIf="!collapsedService.isCollapsed">
            新建账本
          </span>
    </button>
</div>
<nz-modal [(nzVisible)]="isVisible"
          (nzOnCancel)="closeModal()"
          [nzTitle]="modalTitle"
          [nzContent]="modalContent"
          [nzFooter]="modalFooter">
    <ng-template #modalTitle>
        新建账本
    </ng-template>

    <ng-template #modalContent>
        <form [formGroup]="validateForm" nz-form>
            <nz-form-item>
                <nz-form-control
                    [nzXs]="{span: 22, offset: 1}"
                    [nzLg]="{span: 18, offset: 3}">
                    <input formControlName="accountName"
                           nz-input placeholder="请输入账本名"
                           type="text">
                    <nz-form-explain
                        *ngIf="validateForm.get('accountName').dirty && validateForm.get('accountName').errors">
                        请输入账本名
                    </nz-form-explain>
                </nz-form-control>
            </nz-form-item>
        </form>
    </ng-template>

    <ng-template #modalFooter>
        <button nz-button nzType="default" (click)="closeModal()">取消</button>
        <button nz-button nzType="primary" [nzLoading]="loading" (click)="submitForm()">确定</button>
    </ng-template>
</nz-modal>
